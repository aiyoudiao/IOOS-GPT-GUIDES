---
description: Linux的伙伴系统就像停车场的管理，操作系统需要通过内存分配和内存释放，有效地管理内存，以便为每个进程提供合适的内存空间。
---

# 模块7 Linux的伙伴系统

## 有趣的例子 1

你可以把Linux的伙伴系统想象成一个大型的停车场。在停车场中，每个停车位（内存块）都有一个或多个相邻的停车位（相同大小的内存块），并且他们都被安排在一个特定的区域（内存区域）里。

1. **内存分配**：这就像停车场的管理员（操作系统）需要为每辆车（进程）找到一个合适的停车位（内存块）。如果有一个空闲的停车位刚好合适，那就直接分配给他；如果没有合适的停车位，那就找一个大一点的停车位，把它分成两个小停车位，然后分配其中一个给他，另一个留作备用。
2. **内存释放**：这就像当一辆车（进程）离开停车场（结束）时，它的停车位（内存块）就变成了空闲的。这时，管理员（操作系统）会检查它的相邻停车位（相同大小的内存块）是否也是空闲的，如果是的话，就把他们合并成一个大停车位。

通过这个例子，你可以看到Linux的伙伴系统就像停车场的管理，操作系统需要通过内存分配和内存释放，有效地管理内存，以便为每个进程提供合适的内存空间。



## 有趣的例子 2

你可以把Linux的伙伴系统想象成一个大型的派对。在派对中，每个人（内存块）都有一个或多个伙伴（相同大小的内存块），并且他们都被安排在一个特定的区域（内存区域）里。

1. **内存分配**：这就像派对的组织者（操作系统）需要为每个来宾（进程）找到一个合适的位置（内存块）。如果有一个空闲的位置刚好合适，那就直接分配给他；如果没有合适的位置，那就找一个大一点的位置，把它分成两个小位置，然后分配其中一个给他，另一个留作备用。
2. **内存释放**：这就像当一个来宾（进程）离开派对（结束）时，他的位置（内存块）就变成了空闲的。这时，组织者（操作系统）会检查他的伙伴（相同大小的内存块）是否也是空闲的，如果是的话，就把他们合并成一个大位置。

通过这个例子，你可以看到Linux的伙伴系统就像派对的组织，操作系统需要通过内存分配和内存释放，有效地管理内存，以便为每个进程提供合适的内存空间。











