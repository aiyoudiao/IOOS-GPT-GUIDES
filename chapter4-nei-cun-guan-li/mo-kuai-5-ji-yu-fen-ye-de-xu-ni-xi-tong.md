---
description: 基于分页的虚拟系统就像大型超市的管理，操作系统需要通过虚拟内存、页表和页面置换，把进程存储在硬盘和内存中，以便CPU可以执行它。
---

# 模块5 基于分页的虚拟系统

## 有趣的例子 1

你可以把基于分页的虚拟系统想象成一个大型超市。在超市中，每种商品（进程）被分成了若干个小包装（页），并且每一个小包装都被放在一个货架（页框）上。但是，这个超市非常大，大到我们无法把所有的商品都放在前面的货架上（物理内存）。因此，我们需要一个特殊的方法来管理这些商品。

1. **虚拟内存**：这就像超市的仓库（硬盘），我们把所有的商品都存放在仓库里，但是只有当顾客（CPU）需要某种商品的时候，我们才把这种商品的一部分（一个或几个小包装）从仓库搬到前面的货架上。
2. **页表**：这就像超市的目录，记录了每一个小包装在仓库和前面的货架的哪个位置。在程序中，页表就是记录了每一页进程在硬盘和内存的哪个位置。
3. **页面置换**：这就像当前面的货架空间不足时，我们需要把货架上不常被顾客购买的商品搬回仓库，以便为新的商品腾出空间。在程序中，页面置换就是当内存空间不足时，操作系统需要把内存中不常被CPU访问的页移回硬盘，以便为新的页腾出空间。

通过这个例子，你可以看到基于分页的虚拟系统就像大型超市的管理，操作系统需要通过虚拟内存、页表和页面置换，把进程存储在硬盘和内存中，以便CPU可以执行它。



## 有趣的例子 2

你可以把基于分页的虚拟系统想象成一个大型图书馆。在图书馆中，每本书（进程）被分成了若干页（页），并且每一页都被放在一个小格子（页框）里。但是，这个图书馆非常大，大到我们无法把所有的书都放在阅览室里（物理内存）。因此，我们需要一个特殊的方法来管理这些书。

1. **虚拟内存**：这就像图书馆的仓库（硬盘），我们把所有的书都存放在仓库里，但是只有当读者（CPU）需要阅读某本书的时候，我们才把这本书的一部分（一页或几页）从仓库搬到阅览室里。
2. **页表**：这就像图书馆的目录，记录了每一页书在仓库和阅览室的哪个位置。在程序中，页表就是记录了每一页进程在硬盘和内存的哪个位置。
3. **页面置换**：这就像当阅览室的空间不足时，我们需要把阅览室里不常被读者阅读的书搬回仓库，以便为新的书腾出空间。在程序中，页面置换就是当内存空间不足时，操作系统需要把内存中不常被CPU访问的页移回硬盘，以便为新的页腾出空间。

通过这个例子，你可以看到基于分页的虚拟系统就像大型图书馆的管理，操作系统需要通过虚拟内存、页表和页面置换，把进程存储在硬盘和内存中，以便CPU可以执行它。



## 有趣的例子 3

你可以把基于分页的虚拟系统想象成一个大型仓库。在仓库中，每个货物（进程）被分成了若干小箱子（页），并且每一个小箱子都被放在一个货架（页框）上。但是，这个仓库非常大，大到我们无法把所有的货物都放在前面的货架上（物理内存）。因此，我们需要一个特殊的方法来管理这些货物。

1. **虚拟内存**：这就像仓库的后部（硬盘），我们把所有的货物都存放在后部，但是只有当客户（CPU）需要某个货物的时候，我们才把这个货物的一部分（一个或几个小箱子）从后部搬到前面的货架上。
2. **页表**：这就像仓库的目录，记录了每一个小箱子在后部和前面的货架的哪个位置。在程序中，页表就是记录了每一页进程在硬盘和内存的哪个位置。
3. **页面置换**：这就像当前面的货架空间不足时，我们需要把货架上不常被客户需要的货物搬回后部，以便为新的货物腾出空间。在程序中，页面置换就是当内存空间不足时，操作系统需要把内存中不常被CPU访问的页移回硬盘，以便为新的页腾出空间。

通过这个例子，你可以看到基于分页的虚拟系统就像大型仓库的管理，操作系统需要通过虚拟内存、页表和页面置换，把进程存储在硬盘和内存中，以便CPU可以执行它。



## 有趣的例子 4

你可以把基于分页的虚拟系统想象成一个大型的衣柜。在衣柜中，每件衣服（进程）被分成了若干个部分（页），并且每一个部分都被放在一个抽屉（页框）里。但是，这个衣柜非常大，大到我们无法把所有的衣服都放在最容易取得的抽屉里（物理内存）。因此，我们需要一个特殊的方法来管理这些衣服。

1. **虚拟内存**：这就像衣柜的最底层抽屉（硬盘），我们把所有的衣服都存放在那里，但是只有当我们（CPU）需要穿某件衣服的时候，我们才把这件衣服的一部分（一个或几个部分）从最底层抽屉搬到最容易取得的抽屉里。
2. **页表**：这就像衣柜的目录，记录了每一个部分在最底层抽屉和最容易取得的抽屉的哪个位置。在程序中，页表就是记录了每一页进程在硬盘和内存的哪个位置。
3. **页面置换**：这就像当最容易取得的抽屉空间不足时，我们需要把抽屉里不常被穿的衣服搬回最底层抽屉，以便为新的衣服腾出空间。在程序中，页面置换就是当内存空间不足时，操作系统需要把内存中不常被CPU访问的页移回硬盘，以便为新的页腾出空间。

通过这个例子，你可以看到基于分页的虚拟系统就像大型衣柜的管理，操作系统需要通过虚拟内存、页表和页面置换，把进程存储在硬盘和内存中，以便CPU可以执行它。







